{"ast":null,"code":"import { UntypedFormControl, UntypedFormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/service/auth.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"src/app/service/token-storage.service\";\nimport * as i5 from \"../../shared/layout/layout.component\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"angular2-text-mask\";\nexport let VehicleRegisternumberComponent = /*#__PURE__*/(() => {\n  class VehicleRegisternumberComponent {\n    constructor(router, authService, toastrService, tokenStorage) {\n      this.router = router;\n      this.authService = authService;\n      this.toastrService = toastrService;\n      this.tokenStorage = tokenStorage; //init all class object\n\n      this.userData = new UserData();\n      this.datare = new regdata();\n      this.loading = false;\n      this.mask = {\n        guide: true,\n        showMask: true,\n        mask: [/\\d/, /\\d/, '/', /\\d/, /\\d/, '/', /\\d/, /\\d/, /\\d/, /\\d/]\n      };\n    }\n\n    ngOnInit() {\n      var usertype = this.tokenStorage.get('usertype');\n      console.log('usertype :', usertype);\n      this.userData = JSON.parse(this.tokenStorage.get('auth-user'));\n      this.userData.usertype = usertype;\n      this.userData.employeeId = this.userData.registrationId;\n      console.log('userdata all :', this.userData);\n      console.log('userdata :', this.userData.registrationId);\n      this.loginForm = new UntypedFormGroup({\n        vehiclenumber: new UntypedFormControl(null, null)\n      });\n    } //All Function\n    //Get Quotes for vehicle\n\n\n    getQuotes() {\n      console.log('userdata :', this.userData);\n      this.datare.employeeId = this.userData.employeeId;\n      this.datare.usertype = this.userData.usertype;\n      this.datare.regnumber = this.loginForm.value.vehiclenumber;\n\n      if (this.loginForm.value.vehiclenumber != null) {\n        this.authService.post('auth/user', this.datare).subscribe(data => {\n          console.log(data, \"\");\n          this.getRiscovry(data);\n        });\n        this.toastrService.success(\"Valid Login\", 'Message');\n      } else {\n        this.toastrService.error(\"Error While Login\", 'Message');\n      }\n    }\n\n    getRiscovry(data) {\n      console.log(\"return url :\", data.url);\n      let f = document.createElement(\"form\");\n      f.setAttribute(\"method\", \"GET\");\n      f.setAttribute(\"action\", data.url);\n      document.body.appendChild(f);\n      f.submit();\n    }\n\n  }\n\n  VehicleRegisternumberComponent.ɵfac = function VehicleRegisternumberComponent_Factory(t) {\n    return new (t || VehicleRegisternumberComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.TokenStorageService));\n  };\n\n  VehicleRegisternumberComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VehicleRegisternumberComponent,\n    selectors: [[\"app-vehicle-registernumber\"]],\n    decls: 28,\n    vars: 2,\n    consts: [[1, \"wrapper\"], [1, \"title\"], [2, \"visibility\", \"hidden\"], [3, \"formGroup\"], [1, \"field\", 2, \"visibility\", \"hidden\"], [\"type\", \"text\", \"required\", \"\"], [1, \"field\"], [\"type\", \"text\", \"required\", \"\", \"formControlName\", \"vehiclenumber\", 3, \"textMask\"], [1, \"content\", 2, \"visibility\", \"hidden\"], [1, \"checkbox\"], [\"type\", \"checkbox\", \"id\", \"remember-me\"], [\"for\", \"remember-me\"], [1, \"pass-link\"], [\"href\", \"#\"], [\"type\", \"submit\", \"value\", \"Get Quotes\", 3, \"click\"], [1, \"signup-link\", 2, \"visibility\", \"hidden\"]],\n    template: function VehicleRegisternumberComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-layout\")(1, \"div\", 0)(2, \"div\", 1)(3, \"span\", 2);\n        i0.ɵɵtext(4, \"Login Form\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"form\", 3)(6, \"div\", 4);\n        i0.ɵɵelement(7, \"input\", 5);\n        i0.ɵɵelementStart(8, \"label\");\n        i0.ɵɵtext(9, \"Email Address\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelement(11, \"input\", 7);\n        i0.ɵɵelementStart(12, \"label\");\n        i0.ɵɵtext(13, \"Enter Vehicle Register Number\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 8)(15, \"div\", 9);\n        i0.ɵɵelement(16, \"input\", 10);\n        i0.ɵɵelementStart(17, \"label\", 11);\n        i0.ɵɵtext(18, \"Remember me\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 12)(20, \"a\", 13);\n        i0.ɵɵtext(21, \"Forgot password?\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(22, \"div\", 6)(23, \"input\", 14);\n        i0.ɵɵlistener(\"click\", function VehicleRegisternumberComponent_Template_input_click_23_listener() {\n          return ctx.getQuotes();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"div\", 15);\n        i0.ɵɵtext(25, \" Not a member? \");\n        i0.ɵɵelementStart(26, \"a\", 13);\n        i0.ɵɵtext(27, \"Signup now\");\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"textMask\", ctx.mask);\n      }\n    },\n    dependencies: [i5.LayoutComponent, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.RequiredValidator, i6.FormGroupDirective, i6.FormControlName, i7.MaskedInputDirective],\n    styles: [\"@import\\\"https://fonts.googleapis.com/css?family=Poppins:400,500,600,700&display=swap\\\";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{display:grid;height:100%;width:100%;place-items:center;background:#f2f2f2}[_ngcontent-%COMP%]::selection{background:#4158d0;color:#fff}.wrapper[_ngcontent-%COMP%]{width:380px;background:#fff;border-radius:15px;box-shadow:0 15px 20px #0000001a}.wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:35px;font-weight:600;text-align:center;line-height:100px;color:#fff;-webkit-user-select:none;user-select:none;border-radius:15px 15px 0 0;background:linear-gradient(-135deg,#c850c0,#4158d0)}.wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px 30px 50px}.wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{height:50px;width:100%;margin-top:20px;position:relative}.wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:100%;width:100%;outline:none;font-size:17px;padding-left:20px;border:1px solid lightgrey;border-radius:25px;transition:all .3s ease}.wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{border-color:#4158d0}.wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:50%;left:20px;color:#999;font-weight:400;font-size:17px;pointer-events:none;transform:translateY(-50%);transition:all .3s ease}form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ label[_ngcontent-%COMP%]{top:0%;font-size:16px;color:#4158d0;background:#fff;transform:translateY(-50%)}form[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;width:100%;height:50px;font-size:16px;align-items:center;justify-content:space-around}form[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}form[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:15px;height:15px;background:red}form[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#262626;-webkit-user-select:none;user-select:none;padding-left:5px}form[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pass-link[_ngcontent-%COMP%]{color:\\\"\\\"}form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{color:#fff;border:none;padding-left:0;margin-top:-10px;font-size:20px;font-weight:500;cursor:pointer;background:linear-gradient(-135deg,#c850c0,#4158d0);transition:all .3s ease}form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:active{transform:scale(.95)}form[_ngcontent-%COMP%]   .signup-link[_ngcontent-%COMP%]{color:#262626;margin-top:20px;text-align:center}form[_ngcontent-%COMP%]   .pass-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4158d0;text-decoration:none}form[_ngcontent-%COMP%]   .pass-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, form[_ngcontent-%COMP%]   .signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}\"]\n  });\n  return VehicleRegisternumberComponent;\n})();\nexport class UserData {}\nexport class regdata {}","map":null,"metadata":{},"sourceType":"module"}