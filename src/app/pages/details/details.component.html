<app-layout>

    <ng-form class="body">
        <div class="container">
            <div>
                <header>Payment Details भुगतान विवरण</header>

                <mat-expansion-panel hideToggle disabled>
                    <mat-expansion-panel-header>

                        <mat-panel-title style="text-align: center;">
                            <div class="col-9">
                                <h6> Insured Person : </h6>
                            </div>
                            <div class="col-3 center">
                                 <h6> {{insuredetails?.length}}</h6> 
                            </div>


                        </mat-panel-title>


                    </mat-expansion-panel-header>


                </mat-expansion-panel>
            </div>


            <table class="table text-center">
                <!-- <thead>
                    <tr>
                        <th scope="col">No</th>
                        <th scope="col">detail</th>
                        <th scope="col">Amount</th>

                    </tr>
                </thead> -->
                <tbody>

                    <tr>

                        <td scope="col">{{1}}</td>
                        <td scope="col">Net Premium</td>
                        <td scope="col">{{premium.netpremium}}</td>

                    </tr>
                    <tr>

                        <td scope="col">{{2}}</td>
                        <td scope="col">GST</td>
                        <td scope="col">{{premium.gst}}</td>

                    </tr>
                    <tr class="bold">

                        <td scope="col">{{3}}</td>
                        <td scope="col">Gross Premium</td>
                        <td scope="col">{{premium.grosspremium}}</td>

                    </tr>

                </tbody>
            </table>
            <mat-accordion class="example-headers-align" multi>


                <mat-expansion-panel class="example-headers-align" multi (opened)="panelOpenState = true"
                    (closed)="panelOpenState = false">

                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            Insured Details बीमित विवरण
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div id="scroll">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">DOB(YYYY/MM/DD)</th>
                                    <th scope="col">Mobile</th> 
                                    <th scope="col">Email</th>
                                    <th scope="col">Relationship</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let insure of insuredetails; let i=index">

                                    <td>{{insure?.insuredname}}</td>
                                    <td>{{insure?.insureddob  | date:'yyyy-MM-dd'}}</td>
                                    <td>{{insudata?.membermobile}}</td>
                                    <td>{{insudata?.memberemail}}</td>
                                    <td>{{relationshipMap.get(insure.insuredrelationfromprimary)}}</td>
                                    <!-- <td>{{data.insureds[i].relation}}</td> -->

                                </tr>

                            </tbody>
                        </table>
                    </div>
                </mat-expansion-panel>

                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">

                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            Nominee Details नामांकित व्यक्ति विवरण
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div id="scroll">
                        <table class="table">
                            <thead>
                                <tr >
                                    <th scope="col">Name</th>
                                    <th scope="col">Gender</th>
                                    <th scope="col">DOB(YYYY/MM/DD)</th>
                                    <!-- <th scope="col">Age</th> -->
                                    <th scope="col">Relationship</th>
                                </tr>
                            </thead>
                            <tbody style="overflow: scroll;">
                                <tr >
                                    <td>{{insudata?.coiInsured[0].nomineename}}</td>
                                    <td>{{insudata?.coiInsured[0].nomineegender}}</td>
                                    <td>{{insudata?.coiInsured[0].nomineedob   | date:'yyyy-MM-dd'}}</td>
                                    <td>{{nomineeRelationshipMap.get(insudata?.coiInsured[0].nomineerelationwithinsured)}}</td>
                                    
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </mat-expansion-panel>

                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">

                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            Address Details पते का विवरण
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div id="scroll">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Address</th>
                                    <th scope="col">City</th>
                                    <th scope="col">State</th>
                                    <th scope="col">District</th>
                                    <th scope="col">Pincode</th>

                                </tr>
                            </thead>
                            <tbody>
                                <tr>

                                    <td>{{insudata?.address}}</td>
                                    <td>{{insudata?.city}}</td>
                                    <td>{{insudata?.state}}</td>
                                    <td>{{insudata?.district}}</td>
                                    <td>{{insudata?.pincode}}</td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                </mat-expansion-panel>

            </mat-accordion>



            <div class="row">
                <!--                 
                <div class="col-6 text-center mt-2 ">
                    <button  mat-raised-button color="primary" (click)="back()" RouterLink="/dashboard">Back</button>
                </div> -->
                <div class="col-6 text-center mt-2 ">
                    <button mat-raised-button class="button1" 
                        (click)="payment()">Payment</button>
                </div>


            </div>

        </div>



    </ng-form>

</app-layout>
<!-- otp modal -->
<!-- Button trigger modal -->
<!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Launch demo modal
          </button> -->

<!-- Modal -->
<div class="modal fade" id="exampleModal" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title text-success" id="exampleModalLabel">User Verification</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <input type="text" placeholder="Please Enter OTP" [(ngModel)]="otp" style="border: none; outline: none;"
                    class="w-100 " maxlength="6">
            </div>
            <div class="modal-footer">
                <!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> -->
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="verify()">Verify</button>
            </div>
        </div>
    </div>
</div>
<!-- otp modal end -->